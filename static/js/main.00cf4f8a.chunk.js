(this.webpackJsonpflex=this.webpackJsonpflex||[]).push([[0],{59:function(e,t,c){},61:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(28),s=c.n(r),i=(c(59),c(40)),o=c.n(i),l=c(48),j=c(19),d=(c(61),c(82)),b=c(80),u=c(83),m=c.p+"static/media/logo.6ce24c58.svg",O=(c(31),c(26)),x=c(27),h=c(44),f=c(3),p=Object(a.createContext)(),v=function(){return Object(a.useContext)(p)};var g=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(j.a)(c,2),r=n[0],s=n[1],i=function(e){var t=r.filter((function(t){return t.item.id!==e}));return s(t)};return console.log(r),Object(f.jsx)(p.Provider,{value:{product:r,addProduct:function(e,t){var c=r.findIndex((function(t){return t.item.title===e.title}));if(c>-1){var a=r[c].quantity;r.splice(c,1),s([].concat(Object(h.a)(r),[{item:e,quantity:t+a}]))}else s([].concat(Object(h.a)(r),[{item:e,quantity:t}]))},iconCart:function(){return r.reduce((function(e,t){return e+t.quantity}),0)},borrarListado:function(){s([])},precioTotal:function(){return r.reduce((function(e,t){return e+t.quantity*t.item.price}),0)},deleteFromCart:i,mostrarItemsCarrito:function(){return r.map((function(e){return Object(f.jsxs)("div",{className:"card cardCart",style:{borderRadius:"16px"},children:[Object(f.jsx)("button",{onClick:function(){return i(e.item.id)},className:"deleteItemCart",children:"X"}),Object(f.jsx)("img",{src:e.item.imageUrl,alt:"",className:"cartImg"}),Object(f.jsx)("p",{className:"cartTitle",children:e.item.title}),Object(f.jsxs)("p",{className:"cartQuantity",children:["Cantidad: ",e.quantity]})]})}))}},children:t})},N=c(17);var y=function(){var e=v().iconCart;return Object(f.jsx)("div",{className:"CartWidget",children:Object(f.jsx)(b.a,{children:Object(f.jsxs)(N.c,{to:"/cart",style:{textDecoration:"none"},className:"text-secondary",children:[Object(f.jsxs)("label",{style:{background:"#f2f2f2",borderRadius:"34px",fontSize:"10px",padding:"5px"},children:[e()," "]}),"   ",Object(f.jsx)(O.a,{icon:x.b,style:{color:"#fff",display:"inline-block"}})]})})})};var C=function(){return Object(f.jsx)("div",{className:"Navbar",children:Object(f.jsx)(d.a,{expand:"lg",variant:"dark",bg:"dark",fixed:"top",children:Object(f.jsxs)(b.a,{children:[Object(f.jsxs)(d.a.Brand,{href:"#home",children:["Flex",Object(f.jsx)("img",{src:m,width:"30",height:"30",className:" align-top",alt:""})]}),Object(f.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(f.jsxs)(u.a,{className:"mr-auto",children:[Object(f.jsx)(N.b,{to:"/flex-react",className:"nav-link",children:"Inicio"}),Object(f.jsx)(N.b,{to:"/flex-react",className:"nav-link",children:"Nosotros"})]})}),Object(f.jsx)(y,{})]})})})},k=c(54),S=c(53),I=c.n(S),F=(c(46),c(12));var B=function(e){var t=e.item,c=Object(F.f)();return console.log(t),Object(f.jsx)("div",{"data-aos":"fade-up",className:"col-12 col-md-6 col-lg-4 col-xl-3",style:{marginBottom:"1%"},children:Object(f.jsxs)("div",{className:"card-ecommerce",children:[Object(f.jsx)("img",{src:t.imageUrl,className:"img",alt:""}),Object(f.jsx)("h1",{className:"name",children:t.title}),Object(f.jsxs)("h1",{className:"price",children:["$",t.price]}),Object(f.jsx)("button",{className:"boton-detail",type:"button",onClick:function(){return e=t.id,c.push("/products/".concat(e));var e},name:"button",children:Object(f.jsx)(O.a,{icon:x.b})})]})})},w=c(81),A=c(43),P=(c(77),A.a.initializeApp({apiKey:"AIzaSyAahyMIppueeKANRWzZmI0RqBfphnaZol8",authDomain:"flex-2cf2c.firebaseapp.com",projectId:"flex-2cf2c",storageBucket:"flex-2cf2c.appspot.com",messagingSenderId:"48604756131",appId:"1:48604756131:web:75f264570b405f5c882716"}));function T(){return A.a.firestore(P)}var q=Object(a.memo)((function(e){var t=e.items;return Object(f.jsx)(f.Fragment,{children:t.map((function(e){return Object(f.jsx)(B,{item:e},e.id)}))})}),(function(e,t){return e.items.length===t.items.length}));var z=function(){Object(a.useEffect)((function(){I.a.init({duration:2e3})}),[]);var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(F.g)().category;return Object(a.useEffect)((function(){var e=T().collection("items");(l?e.where("categoryId","==",l):e).get().then((function(e){0===e.size&&console.log("no hay nada"),n(e.docs.map((function(e){return Object(k.a)({id:e.id},e.data())}))),o(!1)}))}),[l]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{className:"tituloProductos",children:"Flex"}),Object(f.jsx)("h3",{className:"tituloProductos",children:"PRODUCTOS"}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:i?Object(f.jsx)(w.a,{className:"spinner",animation:"border",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(f.jsx)(q,{items:c})})})]})},E=function(e){var t=e.initial,c=(e.stock,e.onAdd),n=Object(a.useState)(t),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(j.a)(o,2),d=l[0],b=l[1];return Object(f.jsxs)("div",{children:[d&&Object(f.jsxs)("div",{children:[Object(f.jsx)(N.b,{to:"/cart",children:Object(f.jsx)("button",{className:"botonFinalizar",children:"Terminar compra"})}),Object(f.jsx)(N.b,{to:"/flex-react",children:Object(f.jsx)("button",{className:"botonFinalizar",children:"Segir comprando"})})]}),!d&&Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:"Botones",onClick:function(){i(s+1)},children:"+"}),Object(f.jsx)("button",{className:"Botones",onClick:function(){c(s),i(t),b(!0),window.confirm("\xbfAgregar este producto?")},children:"Agregar"}),Object(f.jsx)("button",{className:"Botones",onClick:function(){s>t&&i(s-1)},children:"-"}),Object(f.jsx)("br",{}),Object(f.jsxs)("label",{style:{display:"block"},children:["Cantidad: ",s]})]})]})};var L=function(e){var t=e.item,c=v().addProduct,a=Object(F.f)();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{"data-aos":"fade-up",children:Object(f.jsxs)("div",{className:"card-ecommerce-detailcol-12 col-md-6 col-lg-4 col-xl-3 mx-auto",children:[Object(f.jsx)("button",{onClick:function(){a.push("/flex-react")},type:"button",name:"button",className:"volver-detail",children:Object(f.jsx)(O.a,{icon:x.a})}),Object(f.jsx)("img",{src:t.imageUrl,className:"img-detail",alt:""}),Object(f.jsxs)("h1",{className:"price-detail",children:["$",t.price]}),Object(f.jsx)("h1",{className:"name-detail",children:t.title}),Object(f.jsx)("p",{className:"desc-detail",children:t.description}),Object(f.jsx)(E,{initial:1,stock:5,onAdd:function(e){console.log(e),c(t,e)}})]})})})};var R=function(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(F.g)().id,s=Object(a.useState)({data:{}}),i=Object(j.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){T().collection("items").doc(r).get().then((function(e){0===Object.keys(e).length&&console.log("No results!"),l(e.data()),n(!1)})).catch((function(e){console.log("Error searching items",e)}))}),[r]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{className:"tituloProductos",children:"Flex"}),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:c?Object(f.jsx)(w.a,{className:"spinner",animation:"border",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(f.jsx)(L,{item:o})})})]})},D=function(){var e=v(),t=e.borrarListado,c=e.precioTotal,a=e.mostrarItemsCarrito,n=Object(F.f)(),r=function(){n.push("/flex-react")};return Object(f.jsx)("div",{className:"container",children:c()>0?Object(f.jsxs)("div",{children:[a(),Object(f.jsxs)("label",{className:"card cardCart",style:{fontWeight:"bold"},children:["Precio total de su compra: $",c()]}),Object(f.jsx)("button",{onClick:t,className:"borrarButton",children:"Borrar carrito"}),Object(f.jsx)("br",{}),Object(f.jsx)("button",{onClick:r,className:"borrarButton",children:"Seguir comprando"})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Su carrito est\xe1 vac\xedo"}),Object(f.jsx)("button",{onClick:r,className:"borrarButton",children:"Ir de compras"})]})})};var U=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],r=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products/");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,n(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(g,{children:Object(f.jsxs)(N.a,{children:[Object(f.jsx)("header",{className:"App-header",children:Object(f.jsx)(C,{})}),Object(f.jsx)("body",{className:"App-body",children:Object(f.jsxs)(F.c,{children:[Object(f.jsx)(F.a,{exact:!0,path:"/flex-react",component:z,productos:c}),Object(f.jsx)(F.a,{exact:!0,path:"/products/:id",children:Object(f.jsx)(R,{item:c})}),Object(f.jsx)(F.a,{exact:!0,path:"/cart",component:D})]})})]})})})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,84)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(U,{})}),document.getElementById("root")),W()}},[[78,1,2]]]);
//# sourceMappingURL=main.00cf4f8a.chunk.js.map