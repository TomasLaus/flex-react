(this.webpackJsonpflex=this.webpackJsonpflex||[]).push([[0],{73:function(e,t,c){},75:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(27),s=c.n(r),i=(c(73),c(55)),o=c.n(i),l=c(63),d=c(18),j=(c(75),c(99)),b=c(96),u=c(100),m=c(98),O=c.p+"static/media/logo.6ce24c58.svg",x=(c(42),c(32)),h=c(33),f=c(58),p=c(3),g=Object(a.createContext)(),v=function(){return Object(a.useContext)(g)};var N=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(d.a)(c,2),r=n[0],s=n[1],i=function(e){var t=r.filter((function(t){return t.item.id!==e}));return s(t)};return console.log(r),Object(p.jsx)(g.Provider,{value:{product:r,addProduct:function(e,t){var c=r.findIndex((function(t){return t.item.title===e.title}));if(c>-1){var a=r[c].quantity;r.splice(c,1),s([].concat(Object(f.a)(r),[{item:e,quantity:t+a}]))}else s([].concat(Object(f.a)(r),[{item:e,quantity:t}]))},iconCart:function(){return r.reduce((function(e,t){return e+t.quantity}),0)},borrarListado:function(){s([])},precioTotal:function(){return r.reduce((function(e,t){return e+t.quantity*t.item.price}),0)},deleteFromCart:i,mostrarItemsCarrito:function(){return r.map((function(e){return Object(p.jsxs)("div",{className:"card cardCart",style:{borderRadius:"16px"},children:[Object(p.jsx)("button",{onClick:function(){return i(e.item.id)},className:"deleteItemCart",children:"X"}),Object(p.jsx)("img",{src:e.item.imageUrl,alt:"",className:"cartImg"}),Object(p.jsx)("p",{className:"cartTitle",children:e.item.title}),Object(p.jsxs)("p",{className:"cartQuantity",children:["Cantidad: ",e.quantity]})]})}))}},children:t})},y=c(15);var C=function(){var e=v().iconCart;return Object(p.jsx)("div",{className:"CartWidget",children:Object(p.jsx)(b.a,{children:Object(p.jsxs)(y.c,{to:"/cart",style:{textDecoration:"none"},className:"text-secondary",children:[Object(p.jsxs)("label",{style:{background:"#f2f2f2",borderRadius:"34px",fontSize:"10px",padding:"5px"},children:[e()," "]}),"   ",Object(p.jsx)(x.a,{icon:h.b,style:{color:"#fff",display:"inline-block"}})]})})})};var k=function(){return Object(p.jsx)("div",{className:"Navbar",children:Object(p.jsx)(j.a,{expand:"lg",variant:"dark",bg:"dark",fixed:"top",children:Object(p.jsxs)(b.a,{children:[Object(p.jsxs)(j.a.Brand,{as:y.b,to:"/flex-react",children:["Flex",Object(p.jsx)("img",{src:O,width:"30",height:"30",className:" align-top",alt:""})]}),Object(p.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(u.a,{className:"mr-auto",children:[Object(p.jsx)(y.b,{to:"/flex-react",className:"nav-link",children:"Inicio"}),Object(p.jsxs)(m.a,{title:"Productos",id:"basic-nav-dropdown",children:[Object(p.jsx)(y.b,{exact:!0,to:"/category/celulares",className:"dropdown-item",children:"Celulares"}),Object(p.jsx)(y.b,{exact:!0,to:"/category/notebooks",className:"dropdown-item",children:"Notebooks"}),Object(p.jsx)(y.b,{exact:!0,to:"/category/tablets",className:"dropdown-item",children:"Tablets"}),Object(p.jsx)(y.b,{exact:!0,to:"/products",className:"dropdown-item",children:"Todos"})]})]})}),Object(p.jsx)(C,{})]})})})},w=c(28),S=c(68),I=c.n(S),F=(c(60),c(97)),B=c(40),P=(c(62),B.a.initializeApp({apiKey:"AIzaSyAahyMIppueeKANRWzZmI0RqBfphnaZol8",authDomain:"flex-2cf2c.firebaseapp.com",projectId:"flex-2cf2c",storageBucket:"flex-2cf2c.appspot.com",messagingSenderId:"48604756131",appId:"1:48604756131:web:75f264570b405f5c882716"}));function T(){return B.a.firestore(P)}var A=c(14);var z=function(e){var t=e.item,c=Object(A.f)();return console.log(t),Object(p.jsx)("div",{"data-aos":"fade-up",className:"col-12 col-md-6 col-lg-4 col-xl-3",style:{marginBottom:"1%"},children:Object(p.jsxs)("div",{className:"card-ecommerce",children:[Object(p.jsx)("img",{src:t.imageUrl,className:"img",alt:""}),Object(p.jsx)("h1",{className:"name",children:t.title}),Object(p.jsxs)("h1",{className:"price",children:["ARS$ ",t.price]}),Object(p.jsx)("button",{className:"boton-detail",type:"button",onClick:function(){return e=t.id,c.push("/products/".concat(e));var e},name:"button",children:Object(p.jsx)(x.a,{icon:h.b})})]})})},E=Object(a.memo)((function(e){var t=e.items;return Object(p.jsx)(p.Fragment,{children:t.map((function(e){return Object(p.jsx)(z,{item:e},e.id)}))})}),(function(e,t){return e.items.length===t.items.length}));var q=function(){Object(a.useEffect)((function(){I.a.init({duration:2e3})}),[]);var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),s=Object(d.a)(r,2),i=s[0],o=s[1],l=Object(A.g)().categoryId;return Object(a.useEffect)((function(){var e=T().collection("items");l?e.where("categoryId","==",l).get().then((function(e){e.size>0&&n(e.docs.map((function(e){return o(!1),Object(w.a)({id:e.id},e.data())})))})):e.get().then((function(e){e.size>0&&n(e.docs.map((function(e){return o(!1),Object(w.a)({id:e.id},e.data())})))}))}),[l]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"tituloProductos",children:"Flex"}),Object(p.jsx)("h3",{className:"tituloProductos",children:"PRODUCTOS"}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row",children:i?Object(p.jsx)(F.a,{className:"spinner",animation:"border",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(p.jsx)(E,{items:c})})})]})},D=function(e){var t=e.initial,c=(e.stock,e.onAdd),n=Object(a.useState)(t),r=Object(d.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1];return Object(p.jsxs)("div",{children:[j&&Object(p.jsxs)("div",{children:[Object(p.jsx)(y.b,{to:"/cart",children:Object(p.jsx)("button",{className:"botonFinalizar",children:"Terminar compra"})}),Object(p.jsx)(y.b,{to:"/flex-react",children:Object(p.jsx)("button",{className:"botonFinalizar",children:"Segir comprando"})})]}),!j&&Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"Botones",onClick:function(){i(s+1)},children:"+"}),Object(p.jsx)("button",{className:"Botones",onClick:function(){c(s),i(t),b(!0),window.confirm("\xbfAgregar este producto?")},children:"Agregar"}),Object(p.jsx)("button",{className:"Botones",onClick:function(){s>t&&i(s-1)},children:"-"}),Object(p.jsx)("br",{}),Object(p.jsxs)("label",{style:{display:"block"},children:["Cantidad: ",s]})]})]})};var L=function(e){var t=e.item,c=(e.categorias,v().addProduct),a=Object(A.f)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{"data-aos":"fade-up",children:Object(p.jsx)("div",{className:"d-flex justify-content-center my-5",children:Object(p.jsxs)("div",{className:"card animate__bounceIn",style:{width:"30rem",padding:"10px"},children:[Object(p.jsx)("button",{onClick:function(){a.push("/flex-react")},type:"button",name:"button",className:"volver-detail",children:Object(p.jsx)(x.a,{icon:h.a})}),Object(p.jsx)("img",{src:t.imageUrl,alt:t.description,className:"card-img-top border border-dark rounded "}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("h5",{className:"card-title",children:t.title}),Object(p.jsx)("p",{className:"card-text",children:t.description})]}),Object(p.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(p.jsxs)("li",{className:"list-group-item",children:["Precio: $",t.price]}),Object(p.jsx)("li",{className:"list-group-item",children:Object(p.jsx)(D,{initial:1,stock:5,onAdd:function(e){console.log(e),c(t,e)}})})]})]})})})})};var R=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(A.g)().id,s=Object(a.useState)([]),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)({data:{}}),b=Object(d.a)(j,2),u=b[0],m=b[1];return Object(a.useEffect)((function(){T().collection("items").doc(r).get().then((function(e){0===Object.keys(e).length&&console.log("No results!"),m(e.data()),n(!1)})).catch((function(e){console.log("Error searching items",e)}))}),[r]),Object(a.useEffect)((function(){T().collection("categorias").get().then((function(e){0!==e.size&&l(e.docs.map((function(e){return Object(w.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return n(!1)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"tituloProductos",children:"Flex"}),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"row",children:c?Object(p.jsx)(F.a,{className:"spinner",animation:"border",role:"status",children:Object(p.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(p.jsx)(L,{item:u,categorias:o})})})]})},H=function(){var e=v(),t=e.borrarListado,c=e.precioTotal,a=e.mostrarItemsCarrito,n=Object(A.f)(),r=function(){n.push("/products")};return Object(p.jsx)("div",{className:"container",children:c()>0?Object(p.jsxs)("div",{children:[a(),Object(p.jsxs)("label",{className:"card cardCart",style:{fontWeight:"bold"},children:["Precio total de su compra: $",c()]}),Object(p.jsx)("button",{onClick:t,className:"borrarButton",children:"Borrar carrito"}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:r,className:"borrarButton",children:"Seguir comprando"}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:function(){n.push("/checkout")},className:"borrarButton",children:"Finalizar compra"})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Su carrito est\xe1 vac\xedo"}),Object(p.jsx)("button",{onClick:r,className:"borrarButton",children:"Ir de compras"})]})})};var U=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Home"})})},$=c(48),W={name:"",email:"",phone:""},J=function(){var e=Object(a.useState)(W),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(d.a)(r,2),i=s[0],o=s[1],l=v(),j=l.product,b=l.precioTotal,u=l.borrarListado;function m(e){n(Object(w.a)(Object(w.a)({},c),{},Object($.a)({},e.target.name,e.target.value)))}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container","data-aos":"fade-up",children:[Object(p.jsx)("h1",{className:"text-center fw-bolder",children:"Checkout"}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-4 offset-md-4 mt-5",children:[Object(p.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{className:"form-label fw-bold",children:"Nombre:"}),Object(p.jsx)("input",{type:"text",className:"form-control","aria-describedby":"nameHelp",id:"name",name:"name",onChange:m})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{className:"form-label fw-bold",children:"Email:"}),Object(p.jsx)("input",{type:"email",className:"form-control","aria-describedby":"emailHelp",id:"email",name:"email",onChange:m})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{className:"form-label fw-bold",children:"Repetir Email:"}),Object(p.jsx)("input",{type:"email",className:"form-control","aria-describedby":"emailHelp",id:"email2",name:"email2",onChange:m})]}),Object(p.jsxs)("div",{class:"mb-3",children:[Object(p.jsx)("label",{className:"form-label fw-bold",children:"Tel\xe9fono:"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"phone",name:"phone",onChange:m})]}),Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)("button",{type:"submit",className:"btn btn-light border border-dark",onClick:function(){return function(){var e={buyer:c,items:j,date:B.a.firestore.Timestamp.fromDate(new Date),total:b()};console.log(e),T().collection("orders").add(e).then((function(e){var t=e.id;o("Gracias por su compra, el c\xf3digo de su compra es: ".concat(t))})).catch((function(e){o("Ha ocurrido un error, su orden no se ha generado")})).finally((function(){n(W),u()}))}()},children:"Enviar"})})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:["Precio total de su compra: $",b()]})}),Object(p.jsx)("p",{className:"text-center mt-5 text-warning bg-dark",children:i})]})})]})})};var K=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],r=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products/");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,n(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),[]),Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(N,{children:Object(p.jsxs)(y.a,{children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(k,{})}),Object(p.jsx)("body",{className:"App-body",children:Object(p.jsxs)(A.c,{children:[Object(p.jsx)(A.a,{exact:!0,path:"/flex-react",component:U}),Object(p.jsx)(A.a,{exact:!0,path:"/products",component:q,productos:c}),Object(p.jsx)(A.a,{path:"/category/:categoryId",component:q}),Object(p.jsx)(A.a,{exact:!0,path:"/products/:id",children:Object(p.jsx)(R,{item:c})}),Object(p.jsx)(A.a,{exact:!0,path:"/checkout",component:J}),Object(p.jsx)(A.a,{exact:!0,path:"/cart",component:H})]})})]})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,101)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(K,{})}),document.getElementById("root")),M()}},[[91,1,2]]]);
//# sourceMappingURL=main.3081d638.chunk.js.map